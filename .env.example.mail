# ==========================================
# CONFIGURACIÓN DE EMAIL - GUÍA COMPLETA
# ==========================================
# Este archivo contiene ejemplos de configuración para diferentes proveedores de email.
# Copia la configuración que necesites a tu archivo .env

# ==========================================
# OPCIÓN 1: GMAIL (Gratis - 500 emails/día)
# ==========================================
MAIL_MAILER=smtp
MAIL_HOST=smtp.gmail.com
MAIL_PORT=587
MAIL_USERNAME=tucorreo@gmail.com
MAIL_PASSWORD=tu_contraseña_de_aplicacion  # IMPORTANTE: Usa contraseña de aplicación, NO la contraseña normal
MAIL_ENCRYPTION=tls
MAIL_FROM_ADDRESS="tucorreo@gmail.com"
MAIL_FROM_NAME="${APP_NAME}"

# PASOS PARA GMAIL:
# 1. Ve a https://myaccount.google.com/security
# 2. Activa "Verificación en 2 pasos"
# 3. Busca "Contraseñas de aplicaciones"
# 4. Genera una contraseña para "Correo"
# 5. Usa esa contraseña de 16 dígitos en MAIL_PASSWORD

# ==========================================
# OPCIÓN 2: SENDGRID (Gratis - 100 emails/día)
# ==========================================
# MAIL_MAILER=smtp
# MAIL_HOST=smtp.sendgrid.net
# MAIL_PORT=587
# MAIL_USERNAME=apikey
# MAIL_PASSWORD=TU_API_KEY_DE_SENDGRID
# MAIL_ENCRYPTION=tls
# MAIL_FROM_ADDRESS="noreply@tudominio.com"
# MAIL_FROM_NAME="${APP_NAME}"

# PASOS PARA SENDGRID:
# 1. Regístrate en https://sendgrid.com
# 2. Ve a Settings > API Keys
# 3. Crea un nuevo API Key con permisos de "Mail Send"
# 4. Copia el API Key y úsalo en MAIL_PASSWORD

# ==========================================
# OPCIÓN 3: HOSTINGER / CPANEL
# ==========================================
# MAIL_MAILER=smtp
# MAIL_HOST=smtp.tudominio.com
# MAIL_PORT=465
# MAIL_USERNAME=contacto@tudominio.com
# MAIL_PASSWORD=tu_contraseña_email
# MAIL_ENCRYPTION=ssl
# MAIL_FROM_ADDRESS="contacto@tudominio.com"
# MAIL_FROM_NAME="${APP_NAME}"

# PASOS PARA HOSTING:
# 1. Accede a tu cPanel
# 2. Ve a "Cuentas de correo"
# 3. Busca la configuración SMTP de tu hosting
# 4. Usa esas credenciales aquí

# ==========================================
# OPCIÓN 4: MAILTRAP (Solo para pruebas)
# ==========================================
# MAIL_MAILER=smtp
# MAIL_HOST=sandbox.smtp.mailtrap.io
# MAIL_PORT=2525
# MAIL_USERNAME=tu_username_mailtrap
# MAIL_PASSWORD=tu_password_mailtrap
# MAIL_ENCRYPTION=tls
# MAIL_FROM_ADDRESS="test@tudominio.com"
# MAIL_FROM_NAME="${APP_NAME}"

# PASOS PARA MAILTRAP:
# 1. Regístrate en https://mailtrap.io
# 2. Ve a tu inbox
# 3. Copia las credenciales SMTP
# 4. IMPORTANTE: Los emails NO se envían realmente, solo se capturan para pruebas

# ==========================================
# CONFIGURACIÓN ADICIONAL DEL MÓDULO
# ==========================================

# Enviar email de confirmación automática al cliente (true/false)
MAIL_SEND_CUSTOMER_CONFIRMATION=true

# Mensaje personalizado de éxito
MAIL_SUCCESS_MESSAGE="Su solicitud ha sido enviada correctamente. Nos pondremos en contacto pronto."

# Mensaje personalizado de error
MAIL_ERROR_MESSAGE="Hubo un error al enviar su solicitud. Por favor, inténtelo nuevamente o contáctenos directamente."

# ==========================================
# CONFIGURACIÓN DEL EMAIL DE DESTINO
# ==========================================
# El email donde recibirás las cotizaciones se configura en:
# Base de datos > company_infos > campo "email"
# O desde el panel admin: /admin/cms/company-info

# ==========================================
# SOLUCIÓN DE PROBLEMAS
# ==========================================
# Si los emails no se envían:
# 1. Verifica que las credenciales sean correctas
# 2. Revisa los logs: storage/logs/laravel.log
# 3. Ejecuta: php artisan config:clear
# 4. Ejecuta: php artisan cache:clear
# 5. Para Gmail, asegúrate de usar contraseña de aplicación
# 6. Verifica que el puerto no esté bloqueado por firewall

# ==========================================
# COMANDOS ÚTILES
# ==========================================
# Limpiar cache de configuración:
# php artisan config:clear

# Ver logs en tiempo real:
# tail -f storage/logs/laravel.log

# Probar envío de email desde tinker:
# php artisan tinker
# Mail::raw('Test email', function ($message) { $message->to('tu@email.com')->subject('Test'); });
